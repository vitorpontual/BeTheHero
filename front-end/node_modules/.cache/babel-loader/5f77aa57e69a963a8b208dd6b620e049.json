{"ast":null,"code":"var _jsxFileName = \"/home/vpguedes/Documents/Projetos/gohero/src/hooks/useCase.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport { api } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CaseContext = /*#__PURE__*/createContext({});\nexport function CaseProvider({\n  children\n}) {\n  _s();\n\n  const [incidents, setIncidents] = useState([]);\n  const ongId = localStorage.getItem('ongId');\n\n  const handlerDelete = async id => {\n    try {\n      await api.delete(`incident/${id}`, {\n        headers: {\n          Authorizatoin: ongId\n        }\n      });\n      const incidentRemove = incidents.filter(incident => incident.id !== id);\n      setIncidents(incidentRemove);\n    } catch (error) {\n      alert('Error ao deleter o caso, tente novamente');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CaseContext.Provider, {\n    value: {\n      incidents,\n      handlerDelete\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CaseProvider, \"JpyYiSWVG9Nl/KmTYa4fOfSbq1g=\");\n\n_c = CaseProvider;\nexport function useCase() {\n  _s2();\n\n  const context = useContext(CaseContext);\n  return context;\n}\n\n_s2(useCase, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CaseProvider\");","map":{"version":3,"sources":["/home/vpguedes/Documents/Projetos/gohero/src/hooks/useCase.tsx"],"names":["createContext","useContext","useState","api","CaseContext","CaseProvider","children","incidents","setIncidents","ongId","localStorage","getItem","handlerDelete","id","delete","headers","Authorizatoin","incidentRemove","filter","incident","error","alert","useCase","context"],"mappings":";;;;AAAA,SAASA,aAAT,EAAmCC,UAAnC,EAA0DC,QAA1D,QAA0E,OAA1E;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAoBA,MAAMC,WAAW,gBAAGJ,aAAa,CAAkB,EAAlB,CAAjC;AAEA,OAAO,SAASK,YAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAAoD;AAAA;;AACzD,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAc,EAAd,CAA1C;AAEA,QAAMO,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AAEA,QAAMC,aAAa,GAAG,MAAOC,EAAP,IAAsB;AAC1C,QAAG;AACD,YAAMV,GAAG,CAACW,MAAJ,CAAY,YAAWD,EAAG,EAA1B,EAA6B;AACjCE,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAEP;AADR;AADwB,OAA7B,CAAN;AAKA,YAAMQ,cAAc,GAAGV,SAAS,CAACW,MAAV,CAAiBC,QAAQ,IAAIA,QAAQ,CAACN,EAAT,KAAgBA,EAA7C,CAAvB;AAEAL,MAAAA,YAAY,CAACS,cAAD,CAAZ;AACD,KATD,CASC,OAAOG,KAAP,EAAc;AACbC,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACD;AACF,GAbD;;AAeA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACd,MAAAA,SAAD;AAAYK,MAAAA;AAAZ,KAA7B;AAAA,cAA0DN;AAA1D;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;GAvBeD,Y;;KAAAA,Y;AAyBhB,OAAO,SAASiB,OAAT,GAAoC;AAAA;;AACzC,QAAMC,OAAO,GAAGtB,UAAU,CAACG,WAAD,CAA1B;AAEA,SAAOmB,OAAP;AACD;;IAJeD,O","sourcesContent":["import { createContext, ReactNode, useContext, useEffect, useState } from \"react\";\nimport { api } from \"../services/api\";\n\n\ninterface CaseProviderProps {\n  children: ReactNode;\n}\n\ninterface Incidents {\n  id: string;\n  title: string;\n  description: string;\n  value: string;\n\n}\n\ninterface CaseContextData{\n  incidents: Incidents[];\n  handlerDelete: (id: string) => void;\n}\n\nconst CaseContext = createContext<CaseContextData>({} as CaseContextData);\n\nexport function CaseProvider({children}: CaseProviderProps){\n  const [incidents, setIncidents] = useState<Incidents[]>([])\n\n  const ongId = localStorage.getItem('ongId')\n\n  const handlerDelete = async (id: string) => {\n    try{\n      await api.delete(`incident/${id}`, {\n        headers: {\n          Authorizatoin: ongId\n        }\n      })\n      const incidentRemove = incidents.filter(incident => incident.id !== id)\n\n      setIncidents(incidentRemove)\n    }catch (error) {\n      alert('Error ao deleter o caso, tente novamente')\n    }\n  }\n\n  return(\n    <CaseContext.Provider value={{incidents, handlerDelete}}>{children}</CaseContext.Provider>\n  )\n}\n\nexport function useCase(): CaseContextData {\n  const context = useContext(CaseContext);\n\n  return context\n}"]},"metadata":{},"sourceType":"module"}